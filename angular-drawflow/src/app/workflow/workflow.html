<div class="workflow-container">
  <!-- Toolbar -->
  <div class="toolbar">
    <div class="toolbar-left">
      <h1>Workflow Builder</h1>
      <span class="badge">Drawflow</span>
    </div>

    <div class="toolbar-right">
      <button class="btn btn-secondary" (click)="zoomIn()" title="Zoom In">
        ğŸ”+
      </button>

      <button class="btn btn-secondary" (click)="zoomOut()" title="Zoom Out">
        ğŸ”-
      </button>

      <button class="btn btn-secondary" (click)="zoomReset()" title="Reset Zoom">
        â†º
      </button>

      <button class="btn btn-secondary" (click)="exportWorkflow()" title="Export">
        ğŸ’¾ Save
      </button>

      <label class="btn btn-secondary" title="Import">
        ğŸ“‚ Load
        <input type="file" accept=".json" (change)="importWorkflow($event)" style="display: none">
      </label>

      <button class="btn btn-secondary" (click)="clearWorkflow()" title="Clear">
        ğŸ—‘ï¸ Clear All
      </button>

      <button class="btn btn-primary" (click)="testExecute()" title="Test Execute">
        â–¶ï¸ Test Execute
      </button>

      <button class="btn btn-danger" (click)="deleteNode()" *ngIf="selectedNode" title="Delete Node">
        âœ• Delete
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="workflow-content">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-header">
        <h3>Add Nodes</h3>
      </div>

      <div class="sidebar-content">
        <div class="sidebar-section">
          <div class="section-header">Node Types</div>

          <div class="node-template" (click)="addLevelNode()" title="Add Level Node">
            <div class="template-icon">ğŸ’¾</div>
            <div class="template-info">
              <div class="template-title">Level Step</div>
              <div class="template-description">Verification level</div>
            </div>
          </div>

          <div class="node-template" (click)="addConditionNode()" title="Add Condition Node">
            <div class="template-icon">ğŸ”€</div>
            <div class="template-info">
              <div class="template-title">Condition</div>
              <div class="template-description">Branch logic</div>
            </div>
          </div>

          <div class="node-template" (click)="addActionNode()" title="Add Action Node">
            <div class="template-icon">âš¡</div>
            <div class="template-info">
              <div class="template-title">Action</div>
              <div class="template-description">Execute actions</div>
            </div>
          </div>
        </div>
      </div>

      <div class="sidebar-footer">
        <p>Click to add nodes to canvas</p>
      </div>
    </div>

    <!-- Drawflow Canvas -->
    <div class="drawflow-wrapper">
      <div #drawflowContainer id="drawflow" class="drawflow-canvas"></div>
    </div>
  </div>

  <!-- Execution Demo Modal -->
  <app-execution-demo
    *ngIf="showExecutionDemo && workflowData"
    [workflowData]="workflowData"
    (close)="closeExecutionDemo()"
  ></app-execution-demo>
</div>
